#  面试问题整理 

## 计算机基础

1. 

## Java 基础

1. hashcode和equals, 什么时候用到hashcode, 重写hashcode会出现什么现象？
2. 1.8的新特性了解的说一下
3. 泛型是干什么的, 讲一下

## 集合

1.  HashMap源码, ConConcurrentHashMap源码

   有什么异同, 

   后者怎么保证线程安全的,

    1.8与之前有什么区别,

    hashmap什么时候变成红黑树, 

   什么时候退化成链表, 

   怎么解决hash冲突, 

   为什么要用红黑树

   红黑树有什么特点

   红黑树插入和查找的时间复杂度

2. hashset是什么数据结构?

3. 

## 并发编程

1. Threadlocal解释一下

   会出现什么问题

   异步情况怎么解决

2.  synchronize和retreentlock解释一下

   原理, 作用, 异同

   并发量大用什么, 小用什么

   sync做了哪些优化

   锁升级

   锁粗化

   锁消除

3. AQS, CAS, 解释一下

   AQS有哪些应用, 或者衍生物有哪些

   CAS解释一下, CPU指令?

4. authomic类了解吗, 解释一下
5. 原子性, 可见性, 有序性怎么保证的
6. 介绍一下volitile

## JVM

1. 介绍一下jmm
1. mesi协议解释一下, 在没有该协议的时候是怎么做的
1. 内存屏障了解吗, 讲一下
1. 类加载器讲一下
1. 双亲委派机制讲一下, 从源码讲一下, 怎么先上寻找再向下寻找的
1. 类加载机制说一下, 说一下每一步的作用 加载-验证--======
1. JVM内存模型, 每个区域都存放着什么?
1. 垃圾回收器 垃圾回收算法
1. cms回收流程描述一下, G1呢?
1. 针对于CMS, 有哪些独有的参数呢?
1. oom会发生在哪里? 各自怎么处理
1. 线上oom了, 怎么处理, 处理过程, 用哪些命令
1. 我想看一下我的java的进程所占用的硬件指标怎么看, 用什么? 比如想看一下cpu, memory等
1. 我想看一下我的jvm占用的硬件指标怎么看?
1. jvm参数你们是怎么设置的, 大致都有哪些参数, 聊一聊
1. zgc



## Netty

1. BIO NIO了解嘛， 说一下
2. epoll， poll， select说一下

## Spring

1. IOC说一下, 怎么解决循环依赖的, 三级缓存,第三级可以不用吗
2. AOP说一下, AOP用来干什么, 能干什么, 有哪些注解或者功能,  filter, intercept有啥区别
3. jdk代理,cglib代理说一下
4. bean的声明周期说一下
5. spring mvc知道嘛?说一下原理

## Spring Boot

## MQ

1. 说一下你了解的mq的原理吧
2. 怎么保证消息一定不丢呢?
3. 怎么保证消息是顺序的呢?
4. 怎么做幂等的呢?
5. Kafka、RabbitMQ他们有类似的数据分片机制吗？他们是如何把一个逻辑上的数据集合概念（比如一个Topic）给在物理上拆分为多个数据分片的？然后拆分后的多个数据分片又是如何在物理的多台机器上分布式存储的？
6. 为什么一定要让MQ实现数据分片的机制？如果不实现数据分片机制，让你来设计MQ中一个数据集合的分布式 存储，你觉得好设计吗？
7. 同步刷盘和异步刷盘两种策略，分别适用于什么不同的场景呢？
8. 异步刷盘可以提供超高的写入吞吐量，但是有丢失数据的风险，这个适用于什么业务场景？在你所知道的业务场景，或者工作接触过的业务场景中，有哪些场景需要超高的写入吞吐量，但是可以适度接受数据丢失？
9. 同步刷盘会大幅度降低写入吞吐量，但是可以让你的数据不丢失，你接触哪些场景，是严格要求数据务必不能丢失任何一条，但是吞吐量并没有那么高的呢？
10. Kafka、RabbitMQ他们的broker收到消息之后是如何写入磁盘的？采用的是同步刷盘还是异步刷盘的策略？为什么？
11. 每次写入都必须有超过半数的Follower Broker都写入消息才可以算做一次写入成功，那么大家思考一个问题，这样做是不是会对Leader Broker的写入性能产生影响？是不是会降低TPS？是不是必须要在所有的场景都这么做？为什么呢？
12. 一般我们获取到一批消息之后，什么时候才可以认为是处理完这批消息了？是刚拿到这批消息就算处理完吗？还是说要对这批消息执行完一大堆的数据库之类的操作，才算是处理完了？
13. 如果获取到了一批消息，还没处理完呢，结果机器就宕机了，此时会怎么样？这些消息会丢失，再也无法处理了吗？如果获取到了一批消息，已经处理完了，还买来得及提交消费进度，此时机器宕机了，会怎么样呢？
14. 消费者机器到底是跟少数几台Broker建立连接，还是跟所有Broker都建立连接？
15. RocketMQ是支持主从架构下的读写分离的，而且什么时候找Slave Broker读取大家也都了解的很清楚了，那么大家思考一下，Kafka、RabbitMQ他们支持主从架构下的读写分离吗？支持Slave Broker的读取吗？为什么呢？
16. 如果支持读写分离的话，有没有一种可能，就是出现主从数据不一致的问题？比如有的数据刚刚到Master Broker和部分Slave Broker，但是你刚好是从那个没有写入数据的Slave Broker去读取了？
17. 消费吞吐量似乎是跟你的处理速度有很大关系，如果你消费到一批数据，处理太慢了，会导致你严重跟不上数据写入的速度，这会导致你后续几乎每次拉取数据都会从磁盘上读取，而不是os cache里读取，所以你觉得你在拉取到一批消息处理的时候，应该有哪些要点需要注意的？

### Kafka

## MySQL

1. 讲一下隔离级别, 每种隔离级别会带来什么问题, 默认是哪个

2. 索引 聚簇索引, 非聚簇索引, 索引的结构, b树, b+树的区别,  哪些操作会用不到索引?

3. 联合索引的数据结构是什么样的? 举个例子收一下查找的过程

4. 一条sql提交之后mysql发生了什么, 执行流程说一下

5. redo log, undo log binlog说一下

6. buffer pool了解吗, 说一下, 怎么刷新到磁盘的, 挂了数据会丢失吗

7. RR, RC, RU, serializable都会产生什么问题?

8. innoDB的锁有哪些, 行锁, gap锁, Next-key锁, 都是干啥用的

9. 做过sql调优吗, 从哪些方面? 数据库本身, 业务, sql本身

10. 说一下explain的关键的几个参数, 怎么看

11. 怎么进行分库分表的, 按照什么维度, 出现夸库, 夸表的查询吗

12. 分布式id怎么弄得

13. 一条sql执行的很慢怎么弄?
    偶尔慢是什么原因?

    ​	db在刷新脏页

    ​		redo log写满了

    ​		内存不够用, 要从lru链表中淘汰

    ​		mysql自己认为系统空闲的时候

    ​		mysql关闭的时候
    ​	拿不到锁

    一直都这么慢是什么原因?
    	没有索引
    	有索引没用
    	索引加的不是最优的
    	mysql执行引擎用的不是最优的索引

14. 死锁知道吗, 我用sql怎么实现一个死锁?

15. mysql对死锁怎么优化的?

16. mysql怎么查看死锁

## 分布式和微服务

1. 分布式事务知道吗, 怎么解决的, 说一下?
2. 分布式锁用过吗, 说一下, 除了redis, zk知道吗, 说一下
3. 链路追踪怎么做的?
4. rpc框架用的什么? http?为什么用http?   tcp 为什么用tcp
5. 网关是用来做什么的, 你们用什么实现的网关?
6. 如何设计一个扛得住亿级流量的网关?
7. 限流的算法有哪些?
8. 为什么要分布式id, 你知道有哪些
9. 如果你要设计rpc框架你怎么设计
10. 谈一谈你对微服务的理解
11. 如何保证缓存一致性的
12. 系统如何保护、限流、熔断、隔离、降级

## 网络

1. tcp三次握手, 四次挥手
2. 为什么三次, 两次四次行不行
3. 为什么2msl  msl是什么
4. 说一下一次http请求的流程?
5. osi七层模型知道吗? 每一层简单讲一下, 四层呢?
6. 什么叫做拆包, 黏包
7. 包的结构知道吗, 说一下
8. 怎么解决黏包
9. 你们目前公司网络拓扑可以简单说一下嘛

## 数据结构和算法

1. 链表

   两个链表相交, 查找第一个交点

   查找链表的倒数第k个元素

   两个有序链表合并

   合并k个有序链表

   链表反转

   一个有环的链表的环的入口

2. 数组

   给定一个目标值, 在该数组中有且仅有两个数使得这两个数和为目标值, 输出两个数的下标

   合并两个有序数组

   合并k个有序数组

   数组中出现次数超过一半的数字

   连续子数组的最大和

3. 搜索

   前中后序遍历二叉树

   按行遍历二叉树

   Z字型打印二叉树

   BFS

   DFS

4. 回溯

   实现一个全排列

   打印二叉树所有路径

5. DP

   股票问题,  一个数组, 下标代表天数, value代表价格, 只能买卖一次求最大利益, 允许买卖多次呢?

   给定两个字word1和word2，找到将word1转换为word2所需的最小步骤数。 （每个操作计为1步）。

   您对单词允许以下3种操作：

   a）插入字符

   b）删除字符

   c）替换字符

   最长公共子序列

   最长递增子序列

   最大连续子序列和

   0 1 背包

6. 